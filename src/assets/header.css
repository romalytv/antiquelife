/* ======================= */
/* HEADER */
/* ======================= */

.main-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 4%;
    border-bottom: 1px solid #e0e0e0;
    background: #ffffff;

    /* --- ДОДАНО ДЛЯ "ПРИЛИПАННЯ" --- */
    position: sticky; /* Змінено з relative */
    top: 0;           /* Прилипнути до самого верху */
    width: 100%;      /* Залишатися на повну ширину */
    z-index: 9999;    /* Бути поверх усього іншого контенту */
}

.logo {
    display: flex;
    align-items: center;
    font-family: var(--font-serif);
    font-size: 1.5rem;
    font-weight: 700;
}

.logo-icon {
    margin-right: 0.5rem;
    font-size: 1.2rem;
}

.logo-icon img {
    width: 32px;
    height: auto;
}

.logo-text-lite {
    color: #D8C390;
    font-weight: 300;
    font-size: 1em;
    margin-left: 0.25rem;
}

.main-nav {
    display: flex;
    gap: 2.5rem;
    font-size: 1rem;
    font-weight: 400;
}

.user-menu {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

/* Ваші .user-profile, .notification-badge, .cart-icon, .dropdown-arrow
  залишаються без змін. Я просто скопіював їх для повноти.
*/
.user-profile {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 700;
}

.notification-badge {
    background-color: var(--color-notification);
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: bold;
}

.cart-icon, .dropdown-arrow {
    font-size: 1.2rem;
}

.cart-icon img {
    width: 32px;
    height: auto;
}


/* ================================== */
/* НОВИЙ КОД ДЛЯ АДАПТИВНОСТІ (START) */
/* ================================== */

/* 1. СТИЛІ ДЛЯ ДЕСКТОПУ (за замовчуванням) */

/* Це обгортка, яку ми додали у .vue файлі.
  На десктопі вона просто групує .main-nav та .user-menu.
*/
.header-collapsible-content {
    display: flex;
    align-items: center;
    gap: 2.5rem; /* Використовуємо той самий gap, що й у .main-nav */
}

/* Ховаємо гамбургер-кнопку на десктопі */
.hamburger-button {
    display: none;
    font-size: 2rem;
    background: none;
    border: none;
    cursor: pointer;
    color: #333; /* Додамо колір, щоб її було видно */
}


/* 2. СТИЛІ ДЛЯ МОБІЛЬНИХ (Брейкпоінт) */

/* Ви можете змінити 768px на будь-яке потрібне вам "конкретне розширення".
  Наприклад, 900px.
*/
@media (max-width: 768px) {

    /* Показуємо гамбургер-кнопку */
    .hamburger-button {
        display: block;
    }

    /* Ховаємо нашу обгортку (разом з nav і user-menu)
      і перетворюємо її на випадаюче меню.
    */
    .header-collapsible-content {
        /* ЗАВЖДИ display: flex */
        display: flex;

        /* СТИЛІ ДЛЯ "ЗАКРИТОГО" СТАНУ */
        max-height: 0;
        opacity: 0;
        visibility: hidden;
        overflow: hidden;
        padding-top: 0;
        padding-bottom: 0;
        gap: 0;

        /* ПЛАВНИЙ ПЕРЕХІД */
        transition: max-height 0.3s ease-out,
        opacity 0.2s ease-in,
        visibility 0.3s ease-out,
        padding 0.3s ease-out,
        gap 0.3s ease-out;

        /* Решта ваших стилів залишається без змін */
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        width: 100%;
        background: white;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
        border-top: 1px solid #e0e0e0;
        flex-direction: column;
        align-items: stretch;

        /* Горизонтальні відступи залишаємо, а вертикальні анімуємо */
        padding-left: 20px;
        padding-right: 20px;

        box-sizing: border-box;
    }

    /* Цей клас Vue додає, коли isMenuOpen = true
      Він змушує меню з'явитися.
    */
    .header-collapsible-content.is-open {
        /* Встановлюємо достатню висоту для розкриття */
        max-height: 100vh;

        /* Робимо видимим */
        opacity: 1;
        visibility: visible;

        /* Повертаємо вертикальні відступи та проміжок */
        padding-top: 20px;
        padding-bottom: 20px;
        gap: 20px;

        /* Видаляємо text-align: left; звідси,
           бо він вже є в .main-nav та .user-menu */
    }

    /* Перестилізуємо .main-nav та .user-menu всередині мобільного меню
       (щоб вони теж стали вертикальними)
    */
    .main-nav {
        flex-direction: column;
        gap: 15px;
        text-align: center;
        width: 100%;
        border-bottom: 1px solid #eee; /* Відокремлюємо посилання від кнопок */
        padding-bottom: 20px;
    }

    .user-menu {
        flex-direction: column;
        gap: 20px;
    }
}

/* ================================ */
/* НОВИЙ КОД ДЛЯ АДАПТИВНОСТІ (END) */
/* ================================ */
/* 1. ВАЖЛИВО: БАТЬКІВСЬКИЙ КОНТЕЙНЕР */
.nav-dropdown-container {
    position: relative; /* <--- ЦЕ КЛЮЧОВИЙ МОМЕНТ. Без нього меню не знає, де воно. */
    display: flex;
    align-items: center;
    height: 100%;
    cursor: pointer;
}

/* 2. САМЕ МЕНЮ */
.dropdown-menu {
    position: absolute;
    top: 100%;  /* Рівно під хедером */
    right: 0;   /* Притискаємо до ПРАВОГО краю слова "Маркет" */
    left: auto; /* Скасовуємо ліве вирівнювання */

    /* Розміри */
    width: 600px; /* Ширина меню */
    background-color: #fdfaf3;

    /* Сітка 3 колонки */
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px 20px;

    /* Стилізація */
    padding: 25px;
    box-shadow: 0 10px 25px rgba(74, 63, 53, 0.15);
    border: 1px solid rgba(141, 110, 99, 0.2);
    border-top: 3px solid #b08d57;
    list-style: none;

    /* Анімація */
    opacity: 0;
    visibility: hidden;
    transform: translateY(15px);
    transition: all 0.3s ease;

    /* Щоб було поверх відео та слайдерів */
    z-index: 9999;
}

/* 3. ПОКАЗ ПРИ НАВЕДЕННІ */
/* Коли наводимо на контейнер -> показуємо меню */
.nav-dropdown-container:hover .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* 4. СТИЛІ ПОСИЛАНЬ ВСЕРЕДИНІ */
.dropdown-menu li a {
    display: block;
    color: #4a3f35;
    text-decoration: none;
    font-family: 'Lato', sans-serif;
    font-size: 0.95rem;
    line-height: 1.4;
    transition: color 0.2s, transform 0.2s;
}

.dropdown-menu li a:hover {
    color: #b08d57;
    transform: translateX(5px);
}

/* Приховуємо будь-які старі стрілочки, якщо вони лишились */
.nav-dropdown-container .nav-link::after {
    display: none !important;
}

/* ... ВАШІ СТАРІ СТИЛІ ... */

/* ============================== */
/* МОБІЛЬНА АДАПТАЦІЯ (ACCORDION) */
/* ============================== */
@media (max-width: 768px) {

    /* 1. Робимо контейнер блочним, щоб він займав всю ширину */
    .nav-dropdown-container {
        display: block;
        width: 100%;
        text-align: center; /* Центруємо слово "Маркет" */
        height: auto !important;
        padding: 0; /* Скидаємо відступи */
    }

    /* 2. Змінюємо стиль самого слова "Маркет" */
    .nav-dropdown-container .nav-link {
        display: block;
        width: 100%;
        padding: 0px 0; /* Робимо зону кліку більшою */
    }

    /* 3. ПЕРЕТВОРЕННЯ ВИПАДАЮЧОГО МЕНЮ НА АКОРДЕОН */
    .dropdown-menu {
        /* Скасовуємо абсолютне позиціонування! */
        position: static !important;
        opacity: 1 !important;
        visibility: visible !important;
        transform: none !important;

        /* Приховуємо за замовчуванням (display: none) */
        display: none;

        /* Стиль списку */
        width: 100%;
        box-shadow: none; /* Прибираємо тінь */
        border: none;     /* Прибираємо рамки */
        border-top: 1px solid rgba(141, 110, 99, 0.1); /* Легка лінія розділення */
        background-color: transparent; /* Або трохи темніший фон */
        padding: 0;
    }

    /* 4. КОЛИ МЕНЮ ВІДКРИТЕ (клас додається через Vue) */
    .dropdown-menu.is-expanded {
        display: flex; /* Вмикаємо Flex для вертикального списку */
        flex-direction: column; /* Одна колонка! */
        gap: 0; /* Прибираємо відступи сітки */
    }

    /* 5. Стилізація пунктів списку на мобільному */
    .dropdown-menu li a {
        padding: 12px 0;
        font-size: 0.9rem;
        color: #5f5f5f;
        border-bottom: 1px solid rgba(0,0,0,0.03); /* Тонкі лінії між пунктами */
    }

    /* Ефект при наведенні/кліку */
    .dropdown-menu li a:hover {
        background-color: rgba(0,0,0,0.02);
        transform: none; /* Прибираємо зсув на мобільному */
        padding-left: 0;
    }

    /* Вимикаємо ховер-ефект десктопу на мобільному */
    .nav-dropdown-container:hover .dropdown-menu {
        /* На мобільному hover не має відкривати меню, тільки клік */
        /* Але ми вже керуємо display через клас .is-expanded, тому тут ок */
    }
}